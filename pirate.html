<!DOCTYPE html>
<html lang="en">
<head>
  <title>Lab 7 Treasure</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<style>
     body {
            background-color: #fff6e5;
            text-align: center;
            font-family: italic;
            margin: 0;
            padding: 0;
        }
        .container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            padding: 20px;
        }
        h1 {
            text-shadow: 2px 2px 8px blue;
        text-decoration: underline;
        }
        p {
            color: #333;
        }
        .row {
                display: flex;
                flex-wrap: wrap;
                padding: 0 4px;
            }
           
.col{padding-left: 3px;
    padding-right: 3px;
margin: 0px;}
.col img {
  margin-top: 8px;
  vertical-align: middle;
}   
</style>
</head>
<body>

     <h1>Find the treasure by Maheswar Reddy Polam</h1> 
     <div class="rono">Click on the locations to search for treasure, beware the traps.</div> 
     <div id="locations">Number of locations checked is zero.</div> 
     <div id="penalty">Penalty is zero</div> 
     <div class="rona">Click for help.</div>
     <div id="help">Help report</div> <br>
     <div class="game-field">

      <div class="container-sm justify-content-center" style="display: flex;">
        
        <center>
        <div class="row row-cols-auto">
                <div class="col"><img id='0' src="./hidtreasure.webp" alt="Location" onclick = "check(0)" height="80px" width="80px"></div>
                <div class="col"><img id ='1' src="./hidtreasure.webp" alt="Location" onclick = "check(1)" height="80px" width="80px"></div>
                <div class="col"><img id ='2' src="./hidtreasure.webp" alt="Location" onclick = "check(2)" height="80px" width="80px"></div>
                <div class="col"><img id ='3' src="./hidtreasure.webp" alt="Location" onclick = "check(3)" height="80px" width="80px"></div>
                <div class="col"><img id ='4' src="./hidtreasure.webp" alt="Location" onclick = "check(4)" height="80px" width="80px"></div>
        </div>
       
        <div class="row row-cols-auto" >
            <div class="col"><img id ='5' src="./hidtreasure.webp" alt="Location" onclick = "check(5)" height="80px" width="80px"></div>
            <div class="col"><img id ='6' src="./hidtreasure.webp" alt="Location" onclick = "check(6)" height="80px" width="80px"></div>
            <div class="col"><img id ='7' src="./hidtreasure.webp" alt="Location" onclick = "check(7)" height="80px" width="80px"></div>
            <div class="col"><img id ='8' src="./hidtreasure.webp" alt="Location" onclick = "check(8)" height="80px" width="80px"></div>
            <div class="col"><img id ='9' src="./hidtreasure.webp" alt="Location" onclick = "check(9)" height="80px" width="80px"></div>
       </div>
        <div class="row row-cols-auto" >
            <div class="col"><img id ='10' src="./hidtreasure.webp" alt="Location" onclick = "check(10)" height="80px" width="80px"></div>
            <div class="col"><img id ='11' src="./hidtreasure.webp" alt="Location" onclick = "check(11)" height="80px" width="80px"></div>
            <div class="col"><img id ='12' src="./hidtreasure.webp" alt="Location" onclick = "check(12)" height="80px" width="80px"></div>
            <div class="col"><img id ='13' src="./hidtreasure.webp" alt="Location" onclick = "check(13)" height="80px" width="80px"></div>
            <div class="col"><img id ='14' src="./hidtreasure.webp" alt="Location" onclick = "check(14)" height="80px" width="80px"></div>
        </div>
    
    
        <div class="row row-cols-auto" >
            <div class="col"><img id ='15' src="./hidtreasure.webp" alt="Location" onclick = "check(15)" height="80px" width="80px"></div>
            <div class="col"><img id ='16' src="./hidtreasure.webp" alt="Location" onclick = "check(16)"  height="80px" width="80px"></div>
            <div class="col"><img id ='17' src="./hidtreasure.webp" alt="Location" onclick = "check(17)" height="80px" width="80px"></div>
            <div class="col"><img id ='18' src="./hidtreasure.webp" alt="Location" onclick = "check(18)" height="80px" width="80px"></div>
            <div class="col"><img id ='19' src="./hidtreasure.webp" alt="Location" onclick = "check(19)" height="80px" width="80px"></div>
        </div>
       
        <div class="row row-cols-auto" >
            <div class="col"><img id ='20' src="./hidtreasure.webp" alt="Location" onclick = "check(20)" height="80px" width="80px"></div>
            <div class="col"><img id ='21' src="./hidtreasure.webp" alt="Location" onclick = "check(21)" height="80px" width="80px"></div>
            <div class="col"><img id ='22' src="./hidtreasure.webp" alt="Location" onclick = "check(22)" height="80px" width="80px"></div>
            <div class="col"><img id ='23' src="./hidtreasure.webp" alt="Location" onclick = "check(23)" height="80px" width="80px"></div>
            <div class="col"><img id ='24' src="./hidtreasure.webp" alt="Location" onclick = "check(24)" height="80px" width="80px"></div>
        </div>
        <input type="button" id="new-game-button" value="New Button">
    </center>
    </div>
    
    <script>
        var ids = ["0", "1", "2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"];
    
        var checkCount = 0;
        var penalty = 0;
        var lastCheck = 0;
        var treasureLocation = 5;
        var trapLocation = 18;
        var gameOver = false;
    
        function check(position)
        {
            if(gameOver)
            {
                return;
            }
    
            var id = ids[position];
            var img = document.getElementById(id);
    
            if (position === treasureLocation) {
                img.src = "./treasure.avif";
            } else if (position === trapLocation) {
                img.src = "./trap.webp";
            } else {
                img.src = "./hat.webp";
            }
    
            checkCount++;
            penalty++;
            document.getElementById("locations").textContent = 
            "Locations Checked: " + checkCount;
    
            if (position === treasureLocation) {
                gameOver = true;
                penalty -= 3; 
            } else if (position === trapLocation) {
                gameOver = true;
                penalty += 4; 
            }
            document.getElementById("penalty").textContent = "Penalty: " + penalty;
    
            lastCheck = position;
        };
    
        function calculateHelp(lastLocation, treasureLocation) {
        var lastRow = Math.floor(lastLocation / 5);
        var lastCol = lastLocation % 5;
        var treasureRow = Math.floor(treasureLocation / 5);
        var treasureCol = treasureLocation % 5;
        var rowDiff = Math.abs(lastRow - treasureRow);
        var colDiff = Math.abs(lastCol - treasureCol);
    
        if ((rowDiff <= 1 && colDiff <= 1) && (rowDiff !== 0 || colDiff !== 0)) {
            
            return "Can Smell It";
        } else if (rowDiff + colDiff === 2) {
            
            return "Close Matie";
        } else {
           
            return "Step Faster";
        }
    }
    document.getElementById("help").onclick = function () {
        var helpText = calculateHelp(lastCheck, treasureLocation);
    
        penalty += 2;
    
        document.getElementById("penalty").textContent = "Penalty: " + penalty;
    
        document.getElementById("help").textContent = "Help: " + helpText;
    };
    document.getElementById("new-game-button").onclick= function () {
       trapLocation = Math.floor(Math.random() * 25);
       treasureLocation = Math.floor(Math.random() * 25);
        penalty=0;
        checkCount=0;
        document.getElementById("penalty").textContent = "Penalty: " + penalty;
        document.getElementById("locations").textContent = 
            "Locations Checked: " + checkCount;
    };
    
    </script>
</body>
</html>
